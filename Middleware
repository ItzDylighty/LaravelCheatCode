terminal > :php artisan make:middleware EnsureTokenIsValid

//sample middleware
public function handle(Request $request, Closure $next): Response
{
$token = "secret";
if($token !== $request->input('token'))
{
return redirect('home');
}
return $next($request);
}


//Global middleware
bootstrap/app.php file: use App\Http\Middleware\EnsureTokenIsValid;
->withMiddleware(function (Middleware $middleware) { $middleware->append(EnsureTokenIsValid::class); // apply all the route. 
